@model SoftinnBookingSystem.Models.CarrierFactoring
@{
    ViewBag.Title = "Create";
}


<div class="col-md-6">
    <div class="form-group">
        <input type="checkbox" id="Factoring" style="margin-top: 0;">
        <label for="Factoring" class="ml-1">Factoring</label>
    </div>
</div>

<section  id="FactoringDetails1" class="content">
    <div class="box-body">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <div class="card card-primary">
                        <div class="card-header">
                            <h2 class="card-title">Factoring Details<small>(New)</small></h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


@Html.AntiForgeryToken()

<div id="FactoringDetails">
    <div class="row">
        <div class="col-md-12">
            <div class="card-body">
                <div class="form-group">
                    @Html.Label("Factoring Company Name", htmlAttributes: new { @class = "control-label " })
                    @Html.EditorFor(model => model.FactoringCompanyName, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.FactoringCompanyName, "", new { @class = "text-danger" })
                </div>
            </div>
        </div>
    </div>

    <div class="card-body">
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    @Html.Label("Factoring Company Number", htmlAttributes: new { @class = "control-label required" })
                    @Html.EditorFor(model => model.FactoringCompanyNumber, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.FactoringCompanyNumber, "", new { @class = "text-danger" })
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    @Html.Label("Factoring Company Phone", htmlAttributes: new { @class = "control-label required" })
                    @Html.EditorFor(model => model.FactoringCompanyPhone, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.FactoringCompanyPhone, "", new { @class = "text-danger" })
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    @Html.Label("Factoring Fax", htmlAttributes: new { @class = "control-label " })
                    @Html.EditorFor(model => model.FactoringFax, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.FactoringFax, "", new { @class = "text-danger" })
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    @Html.Label("Factoring Address", htmlAttributes: new { @class = "control-label " })
                    @Html.EditorFor(model => model.FactoringAddress, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.FactoringAddress, "", new { @class = "text-danger" })
                </div>
            </div>
        </div>

        <br />


        <section class="content">
            <div class="box-body">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card card-primary">
                                <div class="card-header">
                                    <h2 class="card-title">Factoring Agent Details</h2>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <br />


        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    @Html.Label("Agent Name", htmlAttributes: new { @class = "control-label " })
                    @Html.EditorFor(model => model.AgentName, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.AgentName, "", new { @class = "text-danger" })
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    @Html.Label("Agent Email", htmlAttributes: new { @class = "control-label " })
                    @Html.EditorFor(model => model.AgentEmail, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.AgentEmail, "", new { @class = "text-danger" })
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    @Html.Label("Agent Phone", htmlAttributes: new { @class = "control-label " })
                    @Html.EditorFor(model => model.AgentPhone, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.AgentPhone, "", new { @class = "text-danger" })
                </div>
            </div>
        </div>
    </div>
</div>


<div class="row">
    <div class="col-md-12">
        <div class="card-body">
            <div class="form-group">
                <button type="button" class="btn btn-success float-right" onclick="SaveRecord()">Save</button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/5.5.2/bootbox.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>



<script>


    $(document).ready(function () {
        $('#FactoringDetails').hide();
        $('#FactoringDetails1').show();
        $('#Factoring').change(function () {
            if ($(this).is(':checked')) {
                $('#FactoringDetails').show();
                $('#FactoringDetails1').show();
            } else {
                $('#FactoringDetails').hide(); // Hide the fields when checkbox is unchecked
            }
        });
    });


    function SaveRecord() {
        var objCarrierFactoring = {}
        objCarrierFactoring.CarrierFactoringID = $("#CarrierFactoringID").val();
        objCarrierFactoring.FactoringCompanyName = $("#FactoringCompanyName").val();
        objCarrierFactoring.FactoringCompanyNumber = $("#FactoringCompanyNumber").val();
        objCarrierFactoring.FactoringCompanyPhone = $("#FactoringCompanyPhone").val();
        objCarrierFactoring.FactoringFax = $("#FactoringFax").val();
        objCarrierFactoring.FactoringAddress = $("#FactoringAddress").val();
        objCarrierFactoring.AgentName = $("#AgentName").val();
        objCarrierFactoring.AgentEmail = $("#AgentEmail").val();
        objCarrierFactoring.AgentPhone = $("#AgentPhone").val();

        if (objCarrierFactoring.FactoringCompanyNumber == "" || objCarrierFactoring.FactoringCompanyNumber == null || objCarrierFactoring.FactoringCompanyNumber == 0) {
            bootbox.alert("Please Enter Factoring Company Number");
            return
        }

        $.ajax({
            type: "Post",
            URL: "CarrierFactoring/Create/",
            data: JSON.stringify({ objCarrierFactoring }),
            contentType: "application/json; charset=utf-8",
            dataType: "JSON",
            Success: function (r) {
                window.location.href = "/CarrierFactoring/Index";
            },
            error: function (x, e) {
                bootbox.alert("Error");
            },
        });
    }

</script>
