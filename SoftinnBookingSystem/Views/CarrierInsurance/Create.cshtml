@model SoftinnBookingSystem.Models.CarrierInsurance
@{
    ViewBag.Title = "Create";
}


@Html.AntiForgeryToken()

<section class="content">
    <div class="container-fluid">
        <div class="row">
            <!-- left column -->
            <div class="col-md-12">
                <!-- general form elements -->
                <div class="card card-primary">
                    <div class="card-header">
                        <h2 class="card-title">Insurance Details<small>(New)</small></h2>
                    </div>

                    <div class="card-body">
                        <div class="box-body">
                            <div class="form-horizontal">

                                <div class="form-group">
                                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                    @Html.HiddenFor(model => model.CarierInsuranceID)
                                    <div class="row">
                                        <div class="col-md-6">
                                            @Html.Label("Policy Number", htmlAttributes: new { @class = "control-label required" })
                                            @Html.EditorFor(model => model.policyNumber, new { htmlAttributes = new { @class = "form-control" } })
                                            @Html.ValidationMessageFor(model => model.policyNumber, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="col-md-6">
                                            @Html.Label("Expiry of Insurance", htmlAttributes: new { @class = "control-label required" })
                                            @Html.EditorFor(model => model.ExpiryOfInsurance, new { htmlAttributes = new { @class = "form-control", @id = "EOF" } })
                                            @Html.ValidationMessageFor(model => model.ExpiryOfInsurance, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                </div>




                                <div class="row">
                                    <div class="col-md-12">

                                        <div class="form-group">
                                            @Html.Label("Company Name", htmlAttributes: new { @class = "control-label " })
                                            @Html.EditorFor(model => model.CompanyName, new { htmlAttributes = new { @class = "form-control", @id = "CompanyName1" } })
                                            @Html.ValidationMessageFor(model => model.CompanyName, "", new { @class = "text-danger" })
                                        </div>
                                    </div>

                                </div>

                                <div class="row">
                                    <div class="col-md-6">
                                    
                                            <div class="form-group">
                                                @Html.Label("Company Phone", htmlAttributes: new { @class = "control-label " })
                                                @Html.EditorFor(model => model.CompanyPhone, new { htmlAttributes = new { @class = "form-control" } })
                                                @Html.ValidationMessageFor(model => model.CompanyPhone, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            @Html.Label("Company Fax", htmlAttributes: new { @class = "control-label " })
                                            @Html.EditorFor(model => model.CompanyFax, new { htmlAttributes = new { @class = "form-control" } })
                                            @Html.ValidationMessageFor(model => model.CompanyFax, "", new { @class = "text-danger" })
                                        </div>

                                    </div>
                                </div>


                                <div class="row">
                                    <div class="col-md-12">

                                        <div class="form-group">
                                            @Html.Label("Company Address", htmlAttributes: new { @class = "control-label " })
                                            @Html.EditorFor(model => model.CompanyAddress, new { htmlAttributes = new { @class = "form-control" } })
                                            @Html.ValidationMessageFor(model => model.CompanyAddress, "", new { @class = "text-danger" })
                                        </div>

                                    </div>
                                </div>


                                <br />

                                <section class="content">
                                    <div class="container-fluid">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="card card-primary">
                                                    <div class="card-header">
                                                        <h3 class="card-title">Agent Details</h3>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </section>


                                <br />


                                <div class="row">
                                    <div class="col-md-12">

                                        <div class="form-group">
                                            @Html.Label("Agent Name", htmlAttributes: new { @class = "control-label " })
                                            @Html.EditorFor(model => model.AgentName, new { htmlAttributes = new { @class = "form-control" } })
                                            @Html.ValidationMessageFor(model => model.AgentName, "", new { @class = "text-danger" })
                                        </div>

                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6">

                                        <div class="form-group">
                                            @Html.Label("Agent Email", htmlAttributes: new { @class = "control-label " })
                                            @Html.EditorFor(model => model.AgentEmail, new { htmlAttributes = new { @class = "form-control" } })
                                            @Html.ValidationMessageFor(model => model.AgentEmail, "", new { @class = "text-danger" })
                                        </div>

                                    </div>
                                    <div class="col-md-6">

                                        <div class="form-group">
                                            @Html.Label("Agent Phone", htmlAttributes: new { @class = "control-label " })
                                            @Html.EditorFor(model => model.AgentPhone, new { htmlAttributes = new { @class = "form-control" } })
                                            @Html.ValidationMessageFor(model => model.AgentPhone, "", new { @class = "text-danger" })
                                        </div>

                                    </div>
                                </div>

                                <br />
                                <br />
                                <div class="row">
                                    <div class="col-md-12">
                                        <button type="button" class="btn btn-success float-right" onclick="SaveRecord()">Save</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </section>



                    <script>

                        function SaveRecord() {
                            var objCarrierInsurance = {}
                            objCarrierInsurance.CarierInsuranceID = $("#CarierInsuranceID").val();
                            objCarrierInsurance.policyNumer = $("#policyNumer").val();
                            objCarrierInsurance.ExpiryOfInsurance = $("#EOF").val();
                            objCarrierInsurance.CompanyName = $("#CompanyName1").val();
                            objCarrierInsurance.CompanyPhone = $("#CompanyPhone").val();
                            objCarrierInsurance.CompanyFax = $("#CompanyFax").val();
                            objCarrierInsurance.CompanyAddress = $("#CompanyAddress").val();
                            objCarrierInsurance.AgentName = $("#AgentName").val();
                            objCarrierInsurance.AgentEmail = $("#AgentEmail").val();
                            objCarrierInsurance.AgentPhone = $("#AgentPhone").val();

                            if (objCarrierInsurance.policyNumer == "" || objCarrierInsurance.policyNumer == null || objCarrierInsurance.policyNumer == 0) {
                                bootbox.alert("Please Enter policy Numer");
                                return
                            }
                            if (objCarrierInsurance.AgentName == "" || objCarrierInsurance.AgentName == null || objCarrierInsurance.AgentName == 0) {
                                bootbox.alert("Please Enter Agent Name");
                                return
                            }
                            $.ajax({
                                type: "Post",
                                URL: "CarrierInsurance/Create/",
                                data: JSON.stringify({ objCarrierInsurance }),
                                contentType: "application/json; charset=utf-8",
                                dataType: "JSON",
                                Success: function (r) {
                                    window.location.href = "/CarrierInsurance/Index";
                                },
                                error: function (x, e) {
                                    bootbox.alert("Error");
                                },
                            });
                        }

                    </script>


