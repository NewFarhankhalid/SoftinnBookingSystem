@model SoftinnBookingSystem.Models.Drivers
@{
    ViewBag.Title = "Create";
}

<div class="box">
    <div class="box-header">
        <h3 class="box-title">Drivers</h3>
    </div>
</div>

@Html.AntiForgeryToken()

<div class="box-body">
    <div class="form-horizontal">
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(model => model.DriverID)
        <div class="row">
            <div class="col-md-12">
                <table style="width:100%">
                    <tr style="padding:0px">
                        <td>
                            <div class="col-md-6">
                                @Html.Label("Driver Name", htmlAttributes: new { @class = "control-label required" })
                                @Html.EditorFor(model => model.DriverName, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.DriverName, "", new { @class = "text-danger" })
                            </div>
                            <div class="col-md-6">
                                @Html.Label("Carrier", htmlAttributes: new { @class = "control-label " })
                                @Html.EditorFor(model => model.Carrier, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.Carrier, "", new { @class = "text-danger" })
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="col-md-6">
                                @Html.Label("Driver Email", htmlAttributes: new { @class = "control-label " })
                                @Html.EditorFor(model => model.DriverEmail, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.DriverEmail, "", new { @class = "text-danger" })
                            </div>
                            <div class="col-md-6">
                                @Html.Label("Driver Phone", htmlAttributes: new { @class = "control-label " })
                                @Html.EditorFor(model => model.DriverPhone, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.DriverPhone, "", new { @class = "text-danger" })
                            </div>
                        </td>
                    </tr>        
                    <tr>
                        <td>
                            <div class="col-md-12">
                                @Html.Label("Address", htmlAttributes: new { @class = "control-label " })
                                @Html.EditorFor(model => model.Address, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.Address, "", new { @class = "text-danger" })
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
    </div>
        <div class="row">
            <div class="col-md-12">
                <button type="button" class="btn btn-success float-right" onclick="SaveRecord()">Save</button>
            </div>
        </div>
    </div>
</div>

<script>

    function SaveRecord() {
        var Driver = {}
        Driver.DriverID = $("#DriverID").val();
        Driver.DriverName = $("#DriverName").val();
        Driver.Carrier = $("#Carrier").val();
        Driver.DriverEmail = $("#DriverEmail").val();
        Driver.DriverPhone = $("#DriverPhone").val();
        Driver.Address = $("#Address").val();

        if (Driver.DriverName == "" || Driver.DriverName == null || Driver.DriverName == 0) {
            bootbox.alert("Please Enter Driver Name");
            return
        }
        if (Driver.Carrier == "" || Driver.Carrier == null || Driver.Carrier == 0) {
            bootbox.alert("Please Select Carrier");
            return
        }
        
        $.ajax({
            type: "Post",
            URL: "/Drivers/Create",
            data: JSON.stringify({ Driver }),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            Success: function (r) {
                window.location.href = "/Drivers/Index";
            },
            error: function (x, e) {
                bootbox.alert("Error");
            },
        });
    }

</script>

